start_time <- Sys.time()
source('function.R')
folder_name <- "./results/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
folder_name <- "../results/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
folder_name <- "/results/Testing_result/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
folder_name <- "./results/Testing_result/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
folder_name <- "../results/Testing_result/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
folder_name <- "../results/Rolling_window_result/"
if (!dir.exists(folder_name)) {
dir.create(folder_name)
}
data = read.csv('../data/factors_data.csv')
dim(data)
colnames(data)
T0 = nrow(data)
Factors = data[,-c(1,2)]
nmodel= 9
models1 = matrix(,nmodel,nmodel)
CAPM =  Factors[c('MKTRF')]
FF3 = Factors[c('MKTRF','SMB','HML')]
DHS3 = Factors[c('MKTRF','PEAD','FIN')]
HXZ4 = Factors[c('MKTRF','ME','IA','ROE')]
Q5 = Factors[c('MKTRF','ME','IA','ROE','REG')]
FF5 = Factors[c('MKTRF','SMB','HML','CMA','RMW')]
FF6 = Factors[c('MKTRF','SMB','HML','CMA','RMW','UMD')]
BS6 = Factors[c('MKTRF','SMB','IA','ROE','UMD','HMLM')]
FLWZ8 = Factors[c('MKTRF','SMB','REG','PEAD','HMLM','EPRD', 'STR', 'ILR')]
models1[1,c(1:1)] = c('MKTRF')
models1[2,c(1:3)] = c('MKTRF','SMB','HML')
models1[3,c(1:3)] = c('MKTRF','PEAD','FIN')
models1[4,c(1:4)] = c('MKTRF','ME','IA','ROE')
models1[5,c(1:5)] = c('MKTRF','ME','IA','ROE','REG')
models1[6,c(1:5)] = c('MKTRF','SMB','HML','CMA','RMW')
models1[7,c(1:6)] = c('MKTRF','SMB','HML','CMA','RMW','UMD')
models1[8,c(1:6)] = c('MKTRF','SMB','IA','ROE','UMD','HMLM')
models1[9,c(1:8)] = c('MKTRF','SMB','REG','PEAD','HMLM','EPRD', 'STR', 'ILR')
CAPM = as.matrix(CAPM)
FF3 = as.matrix(FF3)
DHS3 = as.matrix(DHS3)
HXZ4 = as.matrix(HXZ4)
Q5 = as.matrix(Q5)
FF5 = as.matrix(FF5)
FF6 = as.matrix(FF6)
BS6 = as.matrix(BS6)
FLWZ8 = as.matrix(FLWZ8)
RF1 = read.csv('data/RF.csv')
RF1 = read.csv('./data/RF.csv')
RF1 = read.csv('../data/RF.csv')
Fama100 = read.csv('../data/Fama100.csv')
Fama100 = Fama100[,-c(1:2)]
Fama100 = Fama100 - (matrix(rep(RF1[,3], ncol(Fama100)),nrow(Fama100) , ncol(Fama100)))
Fama185 = read.csv('../data/Fama185.csv')
Fama185 = Fama185[,-c(1:2)]
Fama185 = Fama185 - (matrix(rep(RF1[,3], ncol(Fama185)),nrow(Fama185) , ncol(Fama185)))
Fama285 = cbind(Fama100, Fama185)
test_asset_name = c("Fama100",'Fama185',"Fama285")
test_asset_name1 = list(Fama100,Fama185, Fama285)
Model_name = c('CAPM','FF3','DHS3','HXZ4','Q5','FF5','FF6','BS6', 'FLWZ8')
T0 = nrow(CAPM)
L0 = T0 / 2
Model_data = list(CAPM, FF3, DHS3,HXZ4, Q5,FF5, FF6,BS6,FLWZ8)
